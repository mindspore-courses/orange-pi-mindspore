# Text-Ranking

基于MindSpore框架实现的Text Ranking应用

## 介绍

基于香橙派AIPro边缘计算硬件的低功耗、高算力特性，结合MindSpore开源框架的灵活部署能力，实现的一款可以实现文章Text Ranking的应用。

### 环境准备

开发者拿到香橙派开发板后，首先需要进行硬件资源确认，镜像烧录及CANN和MindSpore版本的升级，才可运行该案例，具体如下：

开发板：香橙派Aipro或其他同硬件开发板  
开发板镜像: Ubuntu镜像  
`CANN Toolkit/Kernels：8.0.0.beta1`  
`MindSpore: 2.6.0`  
`MindSpore NLP: 0.4.1`  
`Python: 3.9`

#### 镜像烧录

运行该案例需要烧录香橙派官网ubuntu镜像，烧录流程参考[昇思MindSpore官网--香橙派开发专区--环境搭建指南--镜像烧录](https://www.mindspore.cn/tutorials/zh-CN/r2.7.0rc1/orange_pi/environment_setup.html) 章节。

#### CANN升级

CANN升级参考[昇思MindSpore官网--香橙派开发专区--环境搭建指南--CANN升级](https://www.mindspore.cn/tutorials/zh-CN/r2.7.0rc1/orange_pi/environment_setup.html)章节。

#### MindSpore升级

MindSpore升级参考[昇思MindSpore官网--香橙派开发专区--环境搭建指南--MindSpore升级](https://www.mindspore.cn/tutorials/zh-CN/r2.7.0rc1/orange_pi/environment_setup.html)章节。

### requirements.txt
```
Python == 3.9

MindSpore == 2.6.0

mindnlp == 0.4.1

jieba == 0.42.1

sympy  == 1.14.0
```
## 快速使用

用户在准备好上述环境之后，直接运行`text-ranking.ipynb`文件即可，代码中模型加载部分会自动从`huggingface`镜像中下载模型。
运行程序后需要输入文件路径，模型会返回`Text Ranking`分数以及评分前3的句子；
输入`exit`终止程序

## 预期输出

``````
================================================================================
说明:
- 支持TXT和DOCX格式文件
- 输入文件路径进行处理
- 输入'exit'退出程序
================================================================================

处理文件: /opt/image2text/shixi/orange-pi-mindspore/Online/community/18-Text-Ranking/test_01.txt
读取文本长度: 144 字符
原始文本句子数: 9
处理 9 个句子...
进度: 1/9
进度: 9/9

================================================================================
句子TextRank评分详情:
句子 1 (得分: 0.964663):
内容: 水陆草木之花，可爱者甚蕃
--------------------------------------------------------------------------------
句子 2 (得分: 0.985600):
内容: 晋陶渊明独爱菊
--------------------------------------------------------------------------------
句子 3 (得分: 1.006363):
内容: 自李唐来，世人甚爱牡丹
--------------------------------------------------------------------------------
句子 4 (得分: 1.007041):
内容: 予独爱莲之出淤泥而不染，濯清涟而不妖，中通外直，不蔓不枝，香远益清，亭亭净植，可远观而不可亵玩焉
--------------------------------------------------------------------------------
句子 5 (得分: 1.007035):
内容: 予谓菊，花之隐逸者也
--------------------------------------------------------------------------------
句子 6 (得分: 1.008489 ★):
内容: 牡丹，花之富贵者也
--------------------------------------------------------------------------------
句子 7 (得分: 1.021748 ★):
内容: 莲，花之君子者也
--------------------------------------------------------------------------------
句子 8 (得分: 1.019541 ★):
内容: 菊之爱，陶后鲜有闻
--------------------------------------------------------------------------------
句子 9 (得分: 0.979344):
内容: 莲之爱，同予者何人?牡丹之爱，宜乎众矣!
--------------------------------------------------------------------------------

================================================================================
text ranking top3 结果:
================================================================================
牡丹，花之富贵者也。莲，花之君子者也。菊之爱，陶后鲜有闻。
================================================================================
``````



